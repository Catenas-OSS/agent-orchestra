{
  "nodes": [
    {
      "id": "fetch_data",
      "type": "task",
      "name": "Fetch Raw Data",
      "server_name": "fs",
      "inputs": {
        "sources": ["api", "database", "files"],
        "timeout": 30
      }
    },
    {
      "id": "validate_data",
      "type": "task", 
      "name": "Validate Data Quality",
      "inputs": {
        "rules": ["completeness", "format", "consistency"],
        "threshold": 0.95
      }
    },
    {
      "id": "process_batches",
      "type": "foreach",
      "name": "Process Data Batches",
      "inputs": {
        "items": [
          {"batch_id": "batch_001", "size": 1000},
          {"batch_id": "batch_002", "size": 1500},
          {"batch_id": "batch_003", "size": 800},
          {"batch_id": "batch_004", "size": 1200}
        ]
      },
      "concurrency": 2,
      "foreach_fail_policy": "skip"
    },
    {
      "id": "ml_analysis",
      "type": "task",
      "name": "ML Analysis",
      "inputs": {
        "model": "ensemble_v2.1",
        "features": ["numerical", "categorical", "temporal"],
        "validation": "cross_fold"
      }
    },
    {
      "id": "generate_reports",
      "type": "foreach",
      "name": "Generate Reports",
      "inputs": {
        "items": [
          {"type": "executive_summary", "format": "pdf"},
          {"type": "technical_details", "format": "html"},
          {"type": "data_quality", "format": "json"}
        ]
      },
      "concurrency": 3
    },
    {
      "id": "notify_stakeholders",
      "type": "task",
      "name": "Notify Stakeholders",
      "inputs": {
        "channels": ["email", "slack", "dashboard"],
        "priority": "high"
      }
    }
  ],
  "edges": [
    ["fetch_data", "validate_data"],
    ["validate_data", "process_batches"],
    ["process_batches", "ml_analysis"],
    ["ml_analysis", "generate_reports"],
    ["generate_reports", "notify_stakeholders"]
  ]
}